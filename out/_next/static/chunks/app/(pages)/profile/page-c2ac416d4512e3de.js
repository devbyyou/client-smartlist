(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[777],{6315:function(e,n,t){Promise.resolve().then(t.bind(t,2189))},2189:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return v}});var c=t(7437),r=t(6648),i=t(2265),s=t(6584),o=t.n(s),l=t(153),a=t(2153),u=t(6463),f=t(5974),d={src:"/_next/static/media/undraw_profile.017101fc.svg",height:108,width:108,blurWidth:0,blurHeight:0},p=t(6920),h=t(7914),m=t(5079),_=t(7704),x=t(6481),j=t(85),N=t(260);function v(){let e=(0,a.T)(),[n,t]=(0,i.useState)(!0),[s,v]=(0,i.useState)(null),[C,g]=(0,i.useState)(!1),[b,k]=(0,i.useState)(""),[P,E]=(0,i.useState)(null);(0,a.C)(e=>e.searchApi.dataApi),(0,a.C)(e=>e.login);let L=(0,a.C)(e=>e.user.credentials.email),S=(0,a.C)(e=>e.user.credentials.name);(0,a.C)(e=>e.user.credentials.listesCourses);let I=(0,u.useRouter)();return((0,i.useEffect)(()=>{let n=(0,l.$U)();n&&n.access_token?(E((0,l.TD)(n.access_token)),e((0,f.H8)())):I.push("/")},[e,I]),P)?(0,c.jsx)(N.Z,{children:(0,c.jsxs)("div",{className:o().profileContainer,children:[(0,c.jsxs)("div",{className:o().profileHeader,children:[(0,c.jsx)("button",{onClick:()=>I.back(),className:o().backButton,children:(0,c.jsx)(p.G,{icon:j.ac})}),(0,c.jsx)("h2",{children:"Profile"}),(0,c.jsx)("div",{className:o().iconContainer,children:(0,c.jsx)("span",{className:o().iconBag,children:(0,c.jsx)(p.G,{color:"#cca771",icon:h.Yy})})})]}),(0,c.jsxs)("div",{className:o().profileInfo,children:[(0,c.jsx)(r.default,{src:d,alt:"Profile Picture",width:100,height:100,className:o().profileImage}),(0,c.jsx)("h3",{className:o().profileName,children:S}),(0,c.jsx)("p",{className:o().profileEmail,children:L})]}),(0,c.jsxs)("div",{className:o().profileActions,children:[(0,c.jsxs)("button",{className:o().actionButton,children:[(0,c.jsx)("span",{className:o().icon,children:(0,c.jsx)(p.G,{color:"#3DB1CB",icon:m.qmU})}),"Notification"]}),(0,c.jsxs)("button",{className:o().actionButton,children:[(0,c.jsx)("span",{className:o().icon,children:(0,c.jsx)(p.G,{color:"#26AD71",icon:_.Cl})}),"Voucher"]}),(0,c.jsxs)("button",{className:o().actionButton,children:[(0,c.jsx)("span",{className:o().icon,children:(0,c.jsx)(p.G,{color:"#EC534A",icon:m.m6i})}),"Wishlist"]})]}),(0,c.jsxs)("div",{className:o().profileOptions,children:[(0,c.jsxs)("div",{className:o().option,children:[(0,c.jsx)("span",{className:o().icon,children:(0,c.jsx)(p.G,{color:"#26AD71",icon:m.ILF})}),(0,c.jsx)("p",{children:"My Profile"})]}),(0,c.jsxs)("div",{className:o().option,children:[(0,c.jsx)("span",{className:o().icon,children:(0,c.jsx)(p.G,{color:"#26AD71",icon:x.gr})}),(0,c.jsx)("p",{children:"Notification Setting"})]}),(0,c.jsxs)("div",{onClick:function(){(0,l.kS)(),I.push("/")},className:"".concat(o().option," ").concat(o().optionLogout),onMouseEnter:()=>t(!1),onMouseLeave:()=>t(!0),children:[(0,c.jsx)("span",{className:o().icon,children:(0,c.jsx)(p.G,{color:n?"#EC534A":"#fff",icon:m.mXR})}),(0,c.jsx)("p",{children:"Log Out"})]})]})]})}):(0,c.jsx)("p",{children:"Chargement..."})}},260:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var c=t(7437),r=t(7424);function i(e){let{children:n}=e;return(0,c.jsx)("html",{lang:"en",children:(0,c.jsxs)("body",{children:[(0,c.jsx)(r.default,{}),(0,c.jsx)("div",{children:n})]})})}},7424:function(e,n,t){"use strict";t.d(n,{default:function(){return h}});var c=t(7437),r=t(7138),i=t(6463),s=t(6920),o=t(5079),l=t(9954),a=t.n(l),u=t(3588),f=t(2265),d=t(2153),p=t(153);function h(){let e=(0,d.T)();(0,i.useRouter)();let[n,t]=(0,f.useState)(null);(0,f.useEffect)(()=>{let e=(0,p.$U)();e&&e.access_token&&t((0,p.TD)(e.access_token))},[e]);let l=(0,i.usePathname)(),h=[{path:"/home",label:"Home",icon:o.J9Y},{path:"/scanner",label:"Scanner",icon:o.rtB},{path:"/smartli",label:"Smartli",icon:o.YyO},{path:"/profile",label:"Profile",icon:u.IL}];return(0,c.jsx)(c.Fragment,{children:n&&(0,c.jsx)("nav",{className:a().navbar,children:h.map(e=>(0,c.jsxs)(r.default,{href:e.path,className:"".concat(a().navItem," \n                    ").concat(l===e.path?a().active:""),children:[(0,c.jsx)(s.G,{icon:e.icon}),(0,c.jsx)("span",{children:e.label})]},e.label))})})}},2153:function(e,n,t){"use strict";t.d(n,{C:function(){return i},T:function(){return r}});var c=t(1444);let r=c.I0,i=c.v9},5974:function(e,n,t){"use strict";t.d(n,{H8:function(){return o}});var c=t(6862),r=t(7062),i=t(8626),s=t(153);let o=(0,r.a)("user/GET_USER",async(e,n)=>{let t=(0,s.$U)();if(!t||!t.access_token)throw Error("Utilisateur non authentifi\xe9");let c=(0,s.TD)(t.access_token).sub,{data:r}=await i.b.get("/utilisateur/".concat(c));return r}),l=(0,c.PH)("user/CHANGE_CREDENTIALS_FIELD"),a=(0,c.Lq)({logged:!1,credentials:{id:0,email:"",password:"",name:"",listesCourses:[{createdAt:"",id:0,produits:[{image:"",nom:""}],updatedAt:"",userId:0}]}},e=>{e.addCase(l,(e,n)=>{let{field:t,value:c}=n.payload;e.credentials[t]=c}).addCase(o.fulfilled,(e,n)=>{e.credentials.listesCourses=n.payload.listesCourses,e.credentials.email=n.payload.email,e.credentials.name=n.payload.name})});n.ZP=a},8626:function(e,n,t){"use strict";t.d(n,{b:function(){return i}});var c=t(8472),r=t(153);let i=c.Z.create({baseURL:"/api"});i.interceptors.request.use(e=>{let n=(0,r.$U)(),t=n?n.access_token:null;return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e))},7062:function(e,n,t){"use strict";t.d(n,{a:function(){return c}});let c=t(6862).hg.withTypes()},153:function(e,n,t){"use strict";t.d(n,{$U:function(){return r},DX:function(){return s},TD:function(){return o},kS:function(){return i}});var c=t(9714);let r=()=>{let e=localStorage.getItem("token");if(!e)return null;try{return JSON.parse(e)}catch(e){return console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es utilisateur:",e),null}},i=()=>{localStorage.removeItem("token"),localStorage.clear()},s=e=>{try{localStorage.setItem("token",JSON.stringify(e))}catch(e){console.error("Erreur lors de la sauvegarde des donn\xe9es utilisateur:",e)}},o=e=>{try{return(0,c.o)(e)}catch(e){return console.error("Erreur lors du d\xe9codage du token:",e),null}}},6481:function(e,n){"use strict";n.DF={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},n.gr=n.DF},7704:function(e,n){"use strict";n.DF={prefix:"fas",iconName:"gift",icon:[512,512,[127873],"f06b","M190.5 68.8L225.3 128l-1.3 0-72 0c-22.1 0-40-17.9-40-40s17.9-40 40-40l2.2 0c14.9 0 28.8 7.9 36.3 20.8zM64 88c0 14.4 3.5 28 9.6 40L32 128c-17.7 0-32 14.3-32 32l0 64c0 17.7 14.3 32 32 32l448 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-41.6 0c6.1-12 9.6-25.6 9.6-40c0-48.6-39.4-88-88-88l-2.2 0c-31.9 0-61.5 16.9-77.7 44.4L256 85.5l-24.1-41C215.7 16.9 186.1 0 154.2 0L152 0C103.4 0 64 39.4 64 88zm336 0c0 22.1-17.9 40-40 40l-72 0-1.3 0 34.8-59.2C329.1 55.9 342.9 48 357.8 48l2.2 0c22.1 0 40 17.9 40 40zM32 288l0 176c0 26.5 21.5 48 48 48l144 0 0-224L32 288zM288 512l144 0c26.5 0 48-21.5 48-48l0-176-192 0 0 224z"]},n.Cl=n.DF},7914:function(e,n){"use strict";n.DF={prefix:"fas",iconName:"shop",icon:[640,512,["store-alt"],"f54f","M36.8 192l566.3 0c20.3 0 36.8-16.5 36.8-36.8c0-7.3-2.2-14.4-6.2-20.4L558.2 21.4C549.3 8 534.4 0 518.3 0L121.7 0c-16 0-31 8-39.9 21.4L6.2 134.7c-4 6.1-6.2 13.2-6.2 20.4C0 175.5 16.5 192 36.8 192zM64 224l0 160 0 80c0 26.5 21.5 48 48 48l224 0c26.5 0 48-21.5 48-48l0-80 0-160-64 0 0 160-192 0 0-160-64 0zm448 0l0 256c0 17.7 14.3 32 32 32s32-14.3 32-32l0-256-64 0z"]},n.Yy=n.DF},9954:function(e){e.exports={navbar:"Navbar_navbar__E2ggZ",navItem:"Navbar_navItem__xFCCe",active:"Navbar_active__0Y0Om"}},6584:function(e){e.exports={profileContainer:"Profile_profileContainer__vDyvL",profileHeader:"Profile_profileHeader__Cmn2s",backButton:"Profile_backButton__6x8K6",iconContainer:"Profile_iconContainer__uTj1z",profileInfo:"Profile_profileInfo__x9uFW",profileImage:"Profile_profileImage__znl74",profileName:"Profile_profileName__EX5WS",profileEmail:"Profile_profileEmail__aHXkO",profileActions:"Profile_profileActions__BLvBO",actionButton:"Profile_actionButton__dvsFR",icon:"Profile_icon__uM9ra",profileOptions:"Profile_profileOptions__yzTjF",option:"Profile_option__c6f8h",optionLogout:"Profile_optionLogout__sxTIM"}}},function(e){e.O(0,[600,228,676,657,168,797,231,204,971,23,744],function(){return e(e.s=6315)}),_N_E=e.O()}]);