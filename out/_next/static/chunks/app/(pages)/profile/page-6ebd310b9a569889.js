(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[777],{6315:function(e,n,c){Promise.resolve().then(c.bind(c,2189))},2189:function(e,n,c){"use strict";c.r(n),c.d(n,{default:function(){return C}});var i=c(7437),o=c(6648),t=c(2265),s=c(6584),r=c.n(s),l=c(153),a=c(2153),u=c(6463),f=c(5974),d={src:"/_next/static/media/undraw_profile.017101fc.svg",height:108,width:108,blurWidth:0,blurHeight:0},p=c(6920),m=c(7914),h=c(5079),_=c(7704),x=c(6481),j=c(85);function C(){let e=(0,a.T)(),[n,c]=(0,t.useState)(!0),[s,C]=(0,t.useState)(null),[N,g]=(0,t.useState)(!1),[v,k]=(0,t.useState)(""),[L,P]=(0,t.useState)(null);(0,a.C)(e=>e.searchApi.dataApi),(0,a.C)(e=>e.login);let E=(0,a.C)(e=>e.user.credentials.email),b=(0,a.C)(e=>e.user.credentials.name);(0,a.C)(e=>e.user.credentials.listesCourses);let D=(0,u.useRouter)();return((0,t.useEffect)(()=>{let n=(0,l.$U)();n&&n.access_token?(P((0,l.TD)(n.access_token)),e((0,f.H8)())):D.push("/login")},[e,D]),L)?(0,i.jsxs)("div",{className:r().profileContainer,children:[(0,i.jsxs)("div",{className:r().profileHeader,children:[(0,i.jsx)("button",{onClick:()=>D.back(),className:r().backButton,children:(0,i.jsx)(p.G,{icon:j.ac})}),(0,i.jsx)("h2",{children:"Profile"}),(0,i.jsx)("div",{className:r().iconContainer,children:(0,i.jsx)("span",{className:r().iconBag,children:(0,i.jsx)(p.G,{color:"#cca771",icon:m.Yy})})})]}),(0,i.jsxs)("div",{className:r().profileInfo,children:[(0,i.jsx)(o.default,{src:d,alt:"Profile Picture",width:100,height:100,className:r().profileImage}),(0,i.jsx)("h3",{className:r().profileName,children:b}),(0,i.jsx)("p",{className:r().profileEmail,children:E})]}),(0,i.jsxs)("div",{className:r().profileActions,children:[(0,i.jsxs)("button",{className:r().actionButton,children:[(0,i.jsx)("span",{className:r().icon,children:(0,i.jsx)(p.G,{color:"#3DB1CB",icon:h.qmU})}),"Notification"]}),(0,i.jsxs)("button",{className:r().actionButton,children:[(0,i.jsx)("span",{className:r().icon,children:(0,i.jsx)(p.G,{color:"#26AD71",icon:_.Cl})}),"Voucher"]}),(0,i.jsxs)("button",{className:r().actionButton,children:[(0,i.jsx)("span",{className:r().icon,children:(0,i.jsx)(p.G,{color:"#EC534A",icon:h.m6i})}),"Wishlist"]})]}),(0,i.jsxs)("div",{className:r().profileOptions,children:[(0,i.jsxs)("div",{className:r().option,children:[(0,i.jsx)("span",{className:r().icon,children:(0,i.jsx)(p.G,{color:"#26AD71",icon:h.ILF})}),(0,i.jsx)("p",{children:"My Profile"})]}),(0,i.jsxs)("div",{className:r().option,children:[(0,i.jsx)("span",{className:r().icon,children:(0,i.jsx)(p.G,{color:"#26AD71",icon:x.gr})}),(0,i.jsx)("p",{children:"Notification Setting"})]}),(0,i.jsxs)("div",{onClick:function(){(0,l.kS)(),D.push("/login")},className:"".concat(r().option," ").concat(r().optionLogout),onMouseEnter:()=>c(!1),onMouseLeave:()=>c(!0),children:[(0,i.jsx)("span",{className:r().icon,children:(0,i.jsx)(p.G,{color:n?"#EC534A":"#fff",icon:h.mXR})}),(0,i.jsx)("p",{children:"Log Out"})]})]})]}):(0,i.jsx)("p",{children:"Chargement..."})}},2153:function(e,n,c){"use strict";c.d(n,{C:function(){return t},T:function(){return o}});var i=c(1444);let o=i.I0,t=i.v9},5974:function(e,n,c){"use strict";c.d(n,{H8:function(){return r}});var i=c(6862),o=c(7062),t=c(8626),s=c(153);let r=(0,o.a)("user/GET_USER",async(e,n)=>{let c=(0,s.$U)();if(!c||!c.access_token)throw Error("Utilisateur non authentifi\xe9");let i=(0,s.TD)(c.access_token).sub,{data:o}=await t.b.get("/utilisateur/".concat(i));return o}),l=(0,i.PH)("user/CHANGE_CREDENTIALS_FIELD"),a=(0,i.Lq)({logged:!1,credentials:{id:0,email:"",password:"",name:"",listesCourses:[{createdAt:"",id:0,produits:[{image:"",nom:""}],updatedAt:"",userId:0}]}},e=>{e.addCase(l,(e,n)=>{let{field:c,value:i}=n.payload;e.credentials[c]=i}).addCase(r.fulfilled,(e,n)=>{e.credentials.listesCourses=n.payload.listesCourses,e.credentials.email=n.payload.email,e.credentials.name=n.payload.name})});n.ZP=a},8626:function(e,n,c){"use strict";c.d(n,{b:function(){return t}});var i=c(8472),o=c(153);let t=i.Z.create({baseURL:"/api"});t.interceptors.request.use(e=>{let n=(0,o.$U)(),c=n?n.access_token:null;return c&&(e.headers.Authorization="Bearer ".concat(c)),e},e=>Promise.reject(e))},7062:function(e,n,c){"use strict";c.d(n,{a:function(){return i}});let i=c(6862).hg.withTypes()},153:function(e,n,c){"use strict";c.d(n,{$U:function(){return o},DX:function(){return s},TD:function(){return r},kS:function(){return t}});var i=c(9714);let o=()=>{let e=localStorage.getItem("token");if(!e)return null;try{return JSON.parse(e)}catch(e){return console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es utilisateur:",e),null}},t=()=>{localStorage.removeItem("token"),localStorage.clear()},s=e=>{try{localStorage.setItem("token",JSON.stringify(e))}catch(e){console.error("Erreur lors de la sauvegarde des donn\xe9es utilisateur:",e)}},r=e=>{try{return(0,i.o)(e)}catch(e){return console.error("Erreur lors du d\xe9codage du token:",e),null}}},6481:function(e,n){"use strict";n.DF={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},n.gr=n.DF},7704:function(e,n){"use strict";n.DF={prefix:"fas",iconName:"gift",icon:[512,512,[127873],"f06b","M190.5 68.8L225.3 128l-1.3 0-72 0c-22.1 0-40-17.9-40-40s17.9-40 40-40l2.2 0c14.9 0 28.8 7.9 36.3 20.8zM64 88c0 14.4 3.5 28 9.6 40L32 128c-17.7 0-32 14.3-32 32l0 64c0 17.7 14.3 32 32 32l448 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-41.6 0c6.1-12 9.6-25.6 9.6-40c0-48.6-39.4-88-88-88l-2.2 0c-31.9 0-61.5 16.9-77.7 44.4L256 85.5l-24.1-41C215.7 16.9 186.1 0 154.2 0L152 0C103.4 0 64 39.4 64 88zm336 0c0 22.1-17.9 40-40 40l-72 0-1.3 0 34.8-59.2C329.1 55.9 342.9 48 357.8 48l2.2 0c22.1 0 40 17.9 40 40zM32 288l0 176c0 26.5 21.5 48 48 48l144 0 0-224L32 288zM288 512l144 0c26.5 0 48-21.5 48-48l0-176-192 0 0 224z"]},n.Cl=n.DF},7914:function(e,n){"use strict";n.DF={prefix:"fas",iconName:"shop",icon:[640,512,["store-alt"],"f54f","M36.8 192l566.3 0c20.3 0 36.8-16.5 36.8-36.8c0-7.3-2.2-14.4-6.2-20.4L558.2 21.4C549.3 8 534.4 0 518.3 0L121.7 0c-16 0-31 8-39.9 21.4L6.2 134.7c-4 6.1-6.2 13.2-6.2 20.4C0 175.5 16.5 192 36.8 192zM64 224l0 160 0 80c0 26.5 21.5 48 48 48l224 0c26.5 0 48-21.5 48-48l0-80 0-160-64 0 0 160-192 0 0-160-64 0zm448 0l0 256c0 17.7 14.3 32 32 32s32-14.3 32-32l0-256-64 0z"]},n.Yy=n.DF},6584:function(e){e.exports={profileContainer:"Profile_profileContainer__vDyvL",profileHeader:"Profile_profileHeader__Cmn2s",backButton:"Profile_backButton__6x8K6",iconContainer:"Profile_iconContainer__uTj1z",profileInfo:"Profile_profileInfo__x9uFW",profileImage:"Profile_profileImage__znl74",profileName:"Profile_profileName__EX5WS",profileEmail:"Profile_profileEmail__aHXkO",profileActions:"Profile_profileActions__BLvBO",actionButton:"Profile_actionButton__dvsFR",icon:"Profile_icon__uM9ra",profileOptions:"Profile_profileOptions__yzTjF",option:"Profile_option__c6f8h",optionLogout:"Profile_optionLogout__sxTIM"}}},function(e){e.O(0,[600,676,197,234,971,23,744],function(){return e(e.s=6315)}),_N_E=e.O()}]);