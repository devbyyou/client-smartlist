(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{2612:function(e,r,t){Promise.resolve().then(t.bind(t,1189)),Promise.resolve().then(t.t.bind(t,2356,23))},1189:function(e,r,t){"use strict";t.d(r,{Providers:function(){return E}});var a=t(7437),o=t(1444),s=t(6862),n=t(1344),i=t(3478),d=t(5974),l=t(1885),c=t(2694),u=t(4108),g=t(2094);let f={categorie:n.ZP,user:d.ZP,produits:i.ZP,login:l.ZP,register:c.ZP,searchApi:u.ZP,listDecourse:g.ZP},p=(0,s.xC)({reducer:f});function E(e){let{children:r}=e;return(0,a.jsx)(o.zt,{store:p,children:r})}},1344:function(e,r,t){"use strict";t.d(r,{WZ:function(){return n}});var a=t(6862),o=t(7062),s=t(8626);let n=(0,o.a)("categorie/LIST_DE_CATEGORIE",async(e,r)=>{try{return(await s.b.get("categorie")).data}catch(e){throw Error()}}),i=(0,a.Lq)({categorie:[{image:"",nom:"",id:""}]},e=>{e.addCase(n.fulfilled,(e,r)=>{e.categorie=r.payload})});r.ZP=i},2094:function(e,r,t){"use strict";t.d(r,{Cd:function(){return d},Is:function(){return i}});var a=t(6862),o=t(7062),s=t(8626),n=t(153);let i=(0,o.a)("listDecourse/LIST_DE_COURSE",async(e,r)=>{try{r.getState();let e=(0,n.$U)();if(!e||!e.access_token)throw Error("Utilisateur non authentifi\xe9");let t=(0,n.TD)(e.access_token).sub;return(await s.b.get("listes-de-courses/".concat(t))).data}catch(e){throw Error()}}),d=(0,o.a)("listDecourse/REMOVE_LIST_DE_COURSE",async(e,r)=>{let{listDeCourseId:t,id:a}=e;try{return(await s.b.delete("listes-de-courses/".concat(a,"/").concat(t))).data}catch(e){throw Error()}}),l=(0,a.PH)("listDecourse/CHANGE_CREDENTIALS_FIELD"),c=(0,a.Lq)({isproduits:!1,errorLogin:null,credentials:{id:0,userId:0,produits:[]}},e=>{e.addCase(l,(e,r)=>{let{field:t,value:a}=r.payload;e.credentials[t]=a}).addCase(i.fulfilled,(e,r)=>{e.credentials.produits=r.payload.produits}).addCase(d.fulfilled,(e,r)=>{e.credentials.produits=r.payload.produits}).addCase(i.rejected,(e,r)=>{console.error("error prodiot POST---->",Error,"le msg >>",r.error.message)})});r.ZP=c},1885:function(e,r,t){"use strict";t.d(r,{Yo:function(){return l},x4:function(){return d}});var a=t(6862),o=t(7062),s=t(8626),n=t(153);let i={logged:!1,errorLogin:null,credentials:{email:"",password:"",name:""},userId:0,...(0,n.$U)()},d=(0,o.a)("login/LOGIN",async(e,r)=>{try{let{email:e,password:t}=r.getState().login.credentials,a=await s.b.post("auth/login",{email:e,password:t});return(0,n.DX)(a.data),a.data}catch(e){console.log("error catch",e)}}),l=(0,a.PH)("login/CHANGE_CREDENTIALS_FIELD"),c=(0,a.Lq)(i,e=>{e.addCase(l,(e,r)=>{let{field:t,value:a}=r.payload;e.credentials[t]=a}).addCase(d.fulfilled,(e,r)=>{r.payload&&(e.logged=r.payload.logged),e.credentials.email="",e.credentials.password=""}).addCase(d.rejected,(e,r)=>{console.error(Error)})});r.ZP=c},3478:function(e,r,t){"use strict";t.d(r,{D8:function(){return n},IS:function(){return i},h1:function(){return l}});var a=t(6862),o=t(7062),s=t(8626);let n=(0,o.a)("produits/PRODUITS",async(e,r)=>{let{userId:t,produitId:a}=e;try{return(await s.b.post("produits/add-to-list",{userId:t,produitId:a})).data}catch(e){throw Error()}}),i=(0,o.a)("getProduits/GET_PRODUITS",async(e,r)=>{try{return(await s.b.get("produits")).data}catch(e){throw Error()}}),d=(0,a.PH)("produits/CHANGE_CREDENTIALS_FIELD"),l=(0,a.PH)("produits/TOGGLE_CARD_CLICKED"),c=(0,a.Lq)({isproduits:!1,errorLogin:null,credentials:{id:0,userId:0,produits:[{image:"",nom:""}]},clickedCards:{}},e=>{e.addCase(d,(e,r)=>{let{field:t,value:a}=r.payload;e.credentials[t]=a}).addCase(l,(e,r)=>{let t=r.payload;e.clickedCards[t]=!e.clickedCards[t]}).addCase(n.fulfilled,(e,r)=>{}).addCase(i.fulfilled,(e,r)=>{e.credentials.produits=r.payload}).addCase(n.rejected,(e,r)=>{console.error("error prodiot POST---->",Error,"le msg >>",r.error.message)})});r.ZP=c},2694:function(e,r,t){"use strict";t.d(r,{Yo:function(){return i},z2:function(){return n}});var a=t(6862),o=t(7062),s=t(8626);let n=(0,o.a)("register/RESGISTER",async(e,r)=>{try{let{email:e,password:t,name:a}=r.getState().register.credentials;return(await s.b.post("auth/register",{email:e,password:t,name:a})).data}catch(e){throw Error()}}),i=(0,a.PH)("register/CHANGE_CREDENTIALS_FIELD"),d=(0,a.Lq)({isRegister:!1,errorLogin:null,credentials:{email:"",password:"",name:""}},e=>{e.addCase(i,(e,r)=>{let{field:t,value:a}=r.payload;e.credentials[t]=a}).addCase(n.fulfilled,(e,r)=>{e.credentials.email="",e.credentials.password="",e.credentials.name="",e.errorLogin=r.payload.error,r.payload.error||(e.isRegister=!0)}).addCase(n.rejected,(e,r)=>{e.errorLogin=r.error.message,console.error(Error)})});r.ZP=d},4108:function(e,r,t){"use strict";t.d(r,{J8:function(){return i},Ue:function(){return n}});var a=t(6862),o=t(8626),s=t(7062);let n=(0,s.a)("searchApi/SEARCH",async(e,r)=>{let{stateInput:t}=e;try{return(await o.b.get("search?search_terms=".concat(t,"&json=true"))).data}catch(e){console.log("log error l33 searchAPI.ts",e)}}),i=(0,s.a)("searchApi/SEARCH_BY_CATEGORY",async(e,r)=>{let{categoryId:t}=e;try{return(await o.b.get("search/by-category?categoryId=".concat(t))).data}catch(e){console.log("log error l33 searchAPI.ts",e)}}),d=(0,a.Lq)({dataApi:[{generic_name:""}],loading:!1,error:null,dataApiByCat:[{product_name:"",image_url:"",_id:""}],isClicked:!1},e=>{e.addCase(n.pending,e=>{}).addCase(n.fulfilled,(e,r)=>{e.dataApi=r.payload}).addCase(i.fulfilled,(e,r)=>{e.loading=!1,e.dataApiByCat=r.payload}).addCase(i.pending,e=>{e.loading=!0}).addCase(i.rejected,e=>{e.loading=!0}).addCase(n.rejected,e=>{})});r.ZP=d},5974:function(e,r,t){"use strict";t.d(r,{H8:function(){return i}});var a=t(6862),o=t(7062),s=t(8626),n=t(153);let i=(0,o.a)("user/GET_USER",async(e,r)=>{let t=(0,n.$U)();if(!t||!t.access_token)throw Error("Utilisateur non authentifi\xe9");let a=(0,n.TD)(t.access_token).sub,{data:o}=await s.b.get("/utilisateur/".concat(a));return o}),d=(0,a.PH)("user/CHANGE_CREDENTIALS_FIELD"),l=(0,a.Lq)({logged:!1,credentials:{id:0,email:"",password:"",name:"",listesCourses:[{createdAt:"",id:0,produits:[{image:"",nom:""}],updatedAt:"",userId:0}]}},e=>{e.addCase(d,(e,r)=>{let{field:t,value:a}=r.payload;e.credentials[t]=a}).addCase(i.fulfilled,(e,r)=>{e.credentials.listesCourses=r.payload.listesCourses,e.credentials.email=r.payload.email,e.credentials.name=r.payload.name})});r.ZP=l},8626:function(e,r,t){"use strict";t.d(r,{b:function(){return s}});var a=t(8472),o=t(153);let s=a.Z.create({baseURL:"/api"});s.interceptors.request.use(e=>{let r=(0,o.$U)(),t=r?r.access_token:null;return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e))},7062:function(e,r,t){"use strict";t.d(r,{a:function(){return a}});let a=t(6862).hg.withTypes()},153:function(e,r,t){"use strict";t.d(r,{$U:function(){return o},DX:function(){return n},TD:function(){return i},kS:function(){return s}});var a=t(9714);let o=()=>{let e=localStorage.getItem("token");if(!e)return null;try{return JSON.parse(e)}catch(e){return console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es utilisateur:",e),null}},s=()=>{localStorage.removeItem("token"),localStorage.clear()},n=e=>{try{localStorage.setItem("token",JSON.stringify(e))}catch(e){console.error("Erreur lors de la sauvegarde des donn\xe9es utilisateur:",e)}},i=e=>{try{return(0,a.o)(e)}catch(e){return console.error("Erreur lors du d\xe9codage du token:",e),null}}},2356:function(){}},function(e){e.O(0,[395,657,797,971,23,744],function(){return e(e.s=2612)}),_N_E=e.O()}]);