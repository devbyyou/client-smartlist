(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{6181:function(e,r,t){Promise.resolve().then(t.bind(t,7424)),Promise.resolve().then(t.bind(t,1189)),Promise.resolve().then(t.t.bind(t,2356,23))},7424:function(e,r,t){"use strict";t.d(r,{default:function(){return p}});var a=t(7437),n=t(7138),o=t(6463),s=t(6920),i=t(5079),l=t(9954),c=t.n(l),d=t(3588),u=t(2265),f=t(2153),g=t(153);function p(){let e=(0,f.T)();(0,o.useRouter)();let[r,t]=(0,u.useState)(null);(0,u.useEffect)(()=>{let e=(0,g.$U)();e&&e.access_token&&t((0,g.TD)(e.access_token))},[e]);let l=(0,o.usePathname)(),p=[{path:"/",label:"Home",icon:i.J9Y},{path:"/scanner",label:"Scanner",icon:i.rtB},{path:"/smartli",label:"Smartli",icon:i.YyO},{path:"/profile",label:"Profile",icon:d.IL}];return(0,a.jsx)(a.Fragment,{children:r&&(0,a.jsx)("nav",{className:c().navbar,children:p.map(e=>(0,a.jsxs)(n.default,{href:e.path,className:"".concat(c().navItem," \n                    ").concat(l===e.path?c().active:""),children:[(0,a.jsx)(s.G,{icon:e.icon}),(0,a.jsx)("span",{children:e.label})]},e.label))})})}},2153:function(e,r,t){"use strict";t.d(r,{C:function(){return o},T:function(){return n}});var a=t(1444);let n=a.I0,o=a.v9},1189:function(e,r,t){"use strict";t.d(r,{Providers:function(){return C}});var a=t(7437),n=t(1444),o=t(6862),s=t(1344),i=t(3478),l=t(5974),c=t(1885),d=t(2694),u=t(4108),f=t(2094);let g={categorie:s.ZP,user:l.ZP,produits:i.ZP,login:c.ZP,register:d.ZP,searchApi:u.ZP,listDecourse:f.ZP},p=(0,o.xC)({reducer:g});function C(e){let{children:r}=e;return(0,a.jsx)(n.zt,{store:p,children:r})}},1344:function(e,r,t){"use strict";t.d(r,{WZ:function(){return s}});var a=t(6862),n=t(7062),o=t(8626);let s=(0,n.a)("categorie/LIST_DE_CATEGORIE",async(e,r)=>{try{return(await o.b.get("categorie")).data}catch(e){throw Error()}}),i=(0,a.Lq)({categorie:[{image:"",nom:"",id:""}]},e=>{e.addCase(s.fulfilled,(e,r)=>{e.categorie=r.payload})});r.ZP=i},2094:function(e,r,t){"use strict";t.d(r,{Cd:function(){return l},Is:function(){return i}});var a=t(6862),n=t(7062),o=t(8626),s=t(153);let i=(0,n.a)("listDecourse/LIST_DE_COURSE",async(e,r)=>{try{r.getState();let e=(0,s.$U)();if(!e||!e.access_token)throw Error("Utilisateur non authentifi\xe9");let t=(0,s.TD)(e.access_token).sub;return(await o.b.get("listes-de-courses/".concat(t))).data}catch(e){throw Error()}}),l=(0,n.a)("listDecourse/REMOVE_LIST_DE_COURSE",async(e,r)=>{let{listDeCourseId:t,id:a}=e;try{return(await o.b.delete("listes-de-courses/".concat(a,"/").concat(t))).data}catch(e){throw Error()}}),c=(0,a.PH)("listDecourse/CHANGE_CREDENTIALS_FIELD"),d=(0,a.Lq)({isproduits:!1,errorLogin:null,credentials:{id:0,userId:0,produits:[]}},e=>{e.addCase(c,(e,r)=>{let{field:t,value:a}=r.payload;e.credentials[t]=a}).addCase(i.fulfilled,(e,r)=>{e.credentials.produits=r.payload.produits}).addCase(l.fulfilled,(e,r)=>{e.credentials.produits=r.payload.produits}).addCase(i.rejected,(e,r)=>{console.error("error prodiot POST---->",Error,"le msg >>",r.error.message)})});r.ZP=d},1885:function(e,r,t){"use strict";t.d(r,{Yo:function(){return c},x4:function(){return l}});var a=t(6862),n=t(7062),o=t(8626),s=t(153);let i={logged:!1,errorLogin:null,credentials:{email:"",password:"",name:""},userId:0,...(0,s.$U)()},l=(0,n.a)("login/LOGIN",async(e,r)=>{try{let{email:e,password:t}=r.getState().login.credentials,a=await o.b.post("auth/login",{email:e,password:t});return(0,s.DX)(a.data),a.data}catch(e){console.log("error catch",e)}}),c=(0,a.PH)("login/CHANGE_CREDENTIALS_FIELD"),d=(0,a.Lq)(i,e=>{e.addCase(c,(e,r)=>{let{field:t,value:a}=r.payload;e.credentials[t]=a}).addCase(l.fulfilled,(e,r)=>{r.payload&&(e.logged=r.payload.logged),e.credentials.email="",e.credentials.password=""}).addCase(l.rejected,(e,r)=>{console.error(Error)})});r.ZP=d},3478:function(e,r,t){"use strict";t.d(r,{D8:function(){return s},IS:function(){return i},h1:function(){return c}});var a=t(6862),n=t(7062),o=t(8626);let s=(0,n.a)("produits/PRODUITS",async(e,r)=>{let{userId:t,produitId:a}=e;try{return(await o.b.post("produits/add-to-list",{userId:t,produitId:a})).data}catch(e){throw Error()}}),i=(0,n.a)("getProduits/GET_PRODUITS",async(e,r)=>{try{return(await o.b.get("produits")).data}catch(e){throw Error()}}),l=(0,a.PH)("produits/CHANGE_CREDENTIALS_FIELD"),c=(0,a.PH)("produits/TOGGLE_CARD_CLICKED"),d=(0,a.Lq)({isproduits:!1,errorLogin:null,credentials:{id:0,userId:0,produits:[{image:"",nom:""}]},clickedCards:{}},e=>{e.addCase(l,(e,r)=>{let{field:t,value:a}=r.payload;e.credentials[t]=a}).addCase(c,(e,r)=>{let t=r.payload;e.clickedCards[t]=!e.clickedCards[t]}).addCase(s.fulfilled,(e,r)=>{}).addCase(i.fulfilled,(e,r)=>{e.credentials.produits=r.payload}).addCase(s.rejected,(e,r)=>{console.error("error prodiot POST---->",Error,"le msg >>",r.error.message)})});r.ZP=d},2694:function(e,r,t){"use strict";t.d(r,{Yo:function(){return i},z2:function(){return s}});var a=t(6862),n=t(7062),o=t(8626);let s=(0,n.a)("register/RESGISTER",async(e,r)=>{try{let{email:e,password:t,name:a}=r.getState().register.credentials;return(await o.b.post("auth/register",{email:e,password:t,name:a})).data}catch(e){throw Error()}}),i=(0,a.PH)("register/CHANGE_CREDENTIALS_FIELD"),l=(0,a.Lq)({isRegister:!1,errorLogin:null,credentials:{email:"",password:"",name:""}},e=>{e.addCase(i,(e,r)=>{let{field:t,value:a}=r.payload;e.credentials[t]=a}).addCase(s.fulfilled,(e,r)=>{e.credentials.email="",e.credentials.password="",e.credentials.name="",e.errorLogin=r.payload.error,r.payload.error||(e.isRegister=!0)}).addCase(s.rejected,(e,r)=>{e.errorLogin=r.error.message,console.error(Error)})});r.ZP=l},4108:function(e,r,t){"use strict";t.d(r,{J8:function(){return i},Ue:function(){return s}});var a=t(6862),n=t(8626),o=t(7062);let s=(0,o.a)("searchApi/SEARCH",async(e,r)=>{let{stateInput:t}=e;try{return(await n.b.get("search?search_terms=".concat(t,"&json=true"))).data}catch(e){console.log("log error l33 searchAPI.ts",e)}}),i=(0,o.a)("searchApi/SEARCH_BY_CATEGORY",async(e,r)=>{let{categoryId:t}=e;try{return(await n.b.get("search/by-category?categoryId=".concat(t))).data}catch(e){console.log("log error l33 searchAPI.ts",e)}}),l=(0,a.Lq)({dataApi:[{generic_name:""}],loading:!1,error:null,dataApiByCat:[{product_name:"",image_url:"",_id:""}],isClicked:!1},e=>{e.addCase(s.pending,e=>{}).addCase(s.fulfilled,(e,r)=>{e.dataApi=r.payload}).addCase(i.fulfilled,(e,r)=>{e.loading=!1,e.dataApiByCat=r.payload}).addCase(i.pending,e=>{e.loading=!0}).addCase(i.rejected,e=>{e.loading=!0}).addCase(s.rejected,e=>{})});r.ZP=l},5974:function(e,r,t){"use strict";t.d(r,{H8:function(){return i}});var a=t(6862),n=t(7062),o=t(8626),s=t(153);let i=(0,n.a)("user/GET_USER",async(e,r)=>{let t=(0,s.$U)();if(!t||!t.access_token)throw Error("Utilisateur non authentifi\xe9");let a=(0,s.TD)(t.access_token).sub,{data:n}=await o.b.get("/utilisateur/".concat(a));return n}),l=(0,a.PH)("user/CHANGE_CREDENTIALS_FIELD"),c=(0,a.Lq)({logged:!1,credentials:{id:0,email:"",password:"",name:"",listesCourses:[{createdAt:"",id:0,produits:[{image:"",nom:""}],updatedAt:"",userId:0}]}},e=>{e.addCase(l,(e,r)=>{let{field:t,value:a}=r.payload;e.credentials[t]=a}).addCase(i.fulfilled,(e,r)=>{e.credentials.listesCourses=r.payload.listesCourses,e.credentials.email=r.payload.email,e.credentials.name=r.payload.name})});r.ZP=c},8626:function(e,r,t){"use strict";t.d(r,{b:function(){return o}});var a=t(8472),n=t(153);let o=a.Z.create({baseURL:"/api"});o.interceptors.request.use(e=>{let r=(0,n.$U)(),t=r?r.access_token:null;return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e))},7062:function(e,r,t){"use strict";t.d(r,{a:function(){return a}});let a=t(6862).hg.withTypes()},153:function(e,r,t){"use strict";t.d(r,{$U:function(){return n},DX:function(){return s},TD:function(){return i},kS:function(){return o}});var a=t(9714);let n=()=>{let e=localStorage.getItem("token");if(!e)return null;try{return JSON.parse(e)}catch(e){return console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es utilisateur:",e),null}},o=()=>{localStorage.removeItem("token"),localStorage.clear()},s=e=>{try{localStorage.setItem("token",JSON.stringify(e))}catch(e){console.error("Erreur lors de la sauvegarde des donn\xe9es utilisateur:",e)}},i=e=>{try{return(0,a.o)(e)}catch(e){return console.error("Erreur lors du d\xe9codage du token:",e),null}}},2356:function(){},9954:function(e){e.exports={navbar:"Navbar_navbar__E2ggZ",navItem:"Navbar_navItem__xFCCe",active:"Navbar_active__0Y0Om"}}},function(e){e.O(0,[111,676,197,658,971,23,744],function(){return e(e.s=6181)}),_N_E=e.O()}]);